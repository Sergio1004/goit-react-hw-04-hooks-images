(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={overlay:"Modal_overlay__3oZ_N",modal:"Modal_modal__1QbmA"}},12:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__3uN8_"}},13:function(e,t,n){e.exports={button:"Button_button__2649R"}},15:function(e,t,n){e.exports={spinnerWrapper:"Spinner_spinnerWrapper__3YTRv"}},20:function(e,t,n){},21:function(e,t,n){},4:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__76bml",form:"Searchbar_form__3uDr9",button:"Searchbar_button__28za_",buttonLabel:"Searchbar_buttonLabel__1JRrO",input:"Searchbar_input__3MVZ9"}},43:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(6),o=n.n(r),i=(n(20),n(11)),s=n(3),l=(n(21),n(4)),u=n.n(l),b=n(0);function j(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],o=c[1],i=function(){o("")};return Object(b.jsx)("header",{className:u.a.searchbar,children:Object(b.jsxs)("form",{className:u.a.form,onSubmit:function(e){e.preventDefault(),""!==r.trim()&&(t(r),i())},children:[Object(b.jsx)("button",{type:"submit",className:u.a.button,children:Object(b.jsx)("span",{className:u.a.buttonLabel,children:"Search"})}),Object(b.jsx)("input",{className:u.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})}var m=n(9),d=n.n(m);function f(e){var t=e.item,n=e.onClick;return Object(b.jsx)("li",{className:d.a.galleryItem,onClick:n,children:Object(b.jsx)("img",{className:d.a.imageGalleryItemImage,src:t.webformatURL,alt:t.tags})})}var h=n(10),p=n.n(h),O=document.querySelector("#modal-root");function g(e){var t=e.onCloseModal,n=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(b.jsx)("div",{className:p.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(b.jsx)("div",{className:p.a.modal,children:n})}),O)}var _=n(12),v=n.n(_);function x(e){var t=e.items,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(!1),l=Object(s.a)(i,2),u=l[0],j=l[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:v.a.gallery,children:t.map((function(e,t){return Object(b.jsx)(f,{item:e,onClick:function(){!function(e){o(e),j(!0)}(t)}},t)}))}),u&&Object(b.jsx)(g,{onCloseModal:function(){j((function(e){return!e}))},children:Object(b.jsx)("img",{src:t[r].largeImageURL,alt:t[r].tags})})]})}var y=n(13),S=n.n(y);function I(e){var t=e.onClick;return Object(b.jsx)("button",{className:S.a.button,type:"button",onClick:t,children:"Load more"})}var k=n(14),N=n.n(k),w=n(15),C=n.n(w);function E(){return Object(b.jsx)("div",{className:C.a.spinnerWrapper,children:Object(b.jsx)(N.a,{type:"Bars",color:"#00BFFF",height:100,width:100,timeout:3e3})})}var L="22545174-4038647272675c337d39bd153",G="https://pixabay.com/api";var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(G,"/?key=").concat(L,"&q=").concat(e,"&image_type=photo&orientation=horizontal&page=").concat(t,"&per_page=12")).then((function(e){return e.json()}))};function F(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(s.a)(r,2),l=o[0],u=o[1],m=Object(a.useState)(1),d=Object(s.a)(m,2),f=d[0],h=d[1],p=Object(a.useState)("idle"),O=Object(s.a)(p,2),g=O[0],_=O[1],v=Object(a.useState)(!1),y=Object(s.a)(v,2),S=y[0],k=y[1];Object(a.useEffect)((function(){l&&(""===l&&1!==f||(_("pending"),M(l,f).then((function(e){c([].concat(Object(i.a)(n),Object(i.a)(e.hits))),k(N(e)),_("resolved")})).catch((function(e){console.log(e)}))))}),[f,l]);var N=function(e){return!(e.hits.length<12||e.totalHits<=12)};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{onSubmit:function(e){u(e),c([]),h(1)}}),Object(b.jsx)(x,{items:n}),"pending"===g&&Object(b.jsx)(E,{}),"pending"!==g&&S&&Object(b.jsx)(I,{onClick:function(){h((function(e){return e+1}))}})]})}o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={galleryItem:"ImageGalleryItem_galleryItem__2JwUE",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__21UkE"}}},[[43,1,2]]]);
//# sourceMappingURL=main.ceadf9d1.chunk.js.map